<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AstronBot Max</title>

  <!-- main stylesheet -->
  <link rel="stylesheet" href="style.css">

  <!-- Tailwind helpers (optional; you already used them) -->
  <script src="https://cdn.tailwindcss.com" defer></script>

  <style>
    /* small hero fade (keeps your original animation) */
    @media (prefers-reduced-motion: no-preference) {
      .hero-fade { opacity: 0; transform: translateY(6px);
                   animation: heroFade 400ms ease-out forwards; animation-delay: 120ms; }
      @keyframes heroFade { to { opacity: 1; transform: translateY(0);} }
    }
  </style>
</head>

<body class="bg-black text-white">

  <!-- skip link for accessibility -->
  <a class="sr-only-focusable" href="#main">Skip to content</a>

  <!-- HEADER (anchored, small) -->
  <header class="site-header w-full flex justify-center items-center pt-5 pb-2 px-4" role="banner">
    <img
      src="assets/logo.png"
      alt="AstronBot Max logo"
      class="site-logo"
      decoding="async" loading="eager"
    />
  </header>

  <main id="main" role="main">

    <!-- HERO -->
    <section class="hero px-4" aria-labelledby="hero-title">
      <!-- If you want text above hero image later, add an H1 here and keep the image decorative -->
      <img
        src="assets/hero.png"
        alt="AstronBot Max — product hero"
        class="hero-fade hero-image"
        decoding="async" loading="lazy"
      />
    </section>

    <!-- VIDEO (grouped with hero; no negative margins) -->
    <section class="video-section px-4 pb-14">
      <div class="video-shell">

        <!-- Video frame: use poster.jpg if you have one -->
        <div class="video-frame" aria-label="Product demo video">
          <video
            id="demoVideo"
            src="assets/demo.mp4"
            poster="assets/poster.jpg"
            controls
            preload="metadata"
            class="video-element"
          ></video>
        </div>

        <!-- Player utilities -->
        <div class="video-utilities" role="toolbar" aria-label="Video playback controls">
          <div class="speed-group" aria-hidden="false">
            <label for="speedSelect" class="sr-only">Playback speed</label>
            <select id="speedSelect" class="speed-select" aria-label="Playback speed">
              <option value="0.75">0.75×</option>
              <option value="1" selected>1×</option>
              <option value="1.25">1.25×</option>
              <option value="1.5">1.5×</option>
              <option value="2">2×</option>
            </select>
            <span class="speed-label">Speed</span>
          </div>

          <a href="mailto:support@astronbotmax.com?subject=Video%20Playback%20Issue" class="report-link">
            Report issue
          </a>
        </div>

      </div>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo">
    <p>© 2026 AstronBot Max. All rights reserved.</p>
  </footer>

  <!-- Small runtime script: sets playback rate, persists it, improves keyboard focus UX -->
  <script>
    (function () {
      const video = document.getElementById('demoVideo');
      const speedSelect = document.getElementById('speedSelect');

      // Restore saved speed or default to 1
      try {
        const saved = localStorage.getItem('abm_playback_rate');
        if (saved) { video.playbackRate = parseFloat(saved); }
      } catch (e) { /* ignore storage errors */ }

      // Sync select with video rate
      function syncSelect() {
        const rate = String(video.playbackRate || 1);
        for (const opt of speedSelect.options) {
          if (opt.value === rate) { opt.selected = true; break; }
        }
      }
      syncSelect();

      // On user change, update video and persist
      speedSelect.addEventListener('change', function () {
        const r = parseFloat(this.value) || 1;
        video.playbackRate = r;
        try { localStorage.setItem('abm_playback_rate', String(r)); } catch (e) {}
      });

      // Also keep select synced if user changes rate from native controls / keyboard
      video.addEventListener('ratechange', syncSelect);

      // Improve keyboard focus for the skip link
      document.querySelectorAll('.sr-only-focusable').forEach(el => {
        el.addEventListener('click', () => { el.classList.add('focused'); });
      });
    })();
  </script>

</body>
</html>
